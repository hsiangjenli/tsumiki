# 5.1 高效提示設計原則

## 前言

在 AITDD 中，AI 產出的品質高度依賴提示（Prompt）。此章介紹如何設計可反覆優化、易於檢查的提示模板，讓 AI 協作更有效率。

## 三大原則

1. **反覆改進**：第一次只求 80 分，執行→評估→調整→再執行，並紀錄改善點。  
2. **標記確信度**：讓 AI 以 🟢🟡🔴 標示信心程度，協助人工審查重點。  
3. **依步驟客製**：Red、Green、Refactor、Validation 各步驟需不同提示重點。

## 常用提示模式

### 1. TODO 記錄
```markdown
請完成下列工作並輸出 TODO 清單：

- 實作內容：...
- 參考檔案：...
- 輸出檔案：...

格式範例：
## [步驟名稱] TODO
### 🟢 高信心
- [ ] 檔案：...（具體事項）
### 🟡 中信心
- [ ] 檔案：...（須再確認）
### 🔴 低信心
- [ ] 詳細檢查：...
```

### 2. 標示信心
請要求 AI 為主要輸出附上 🟢🟡🔴 與參考來源、推斷理由。

### 3. 分階段輸出
將複雜實作拆成數個 Phase，每階段完成後要：
- 回報測試結果
- 標示信心
- 列出下一階段注意事項

## 提示必備元素
- **目的與期待結果**：希望 AI 做什麼，以及回傳格式。  
- **參考檔案**：列出根據來源與優先順序。  
- **信心標示**：規定使用 🟢🟡🔴。  
- **輸出格式**：例如 Markdown／JSON／檔名。  
- **限制與注意事項**：明示禁忌與特殊要求。

## 常見技巧
- 指明哪些檔案可改、哪些不可改。  
- 說明參考檔案之間的關係與優先順序。  
- 先建立骨架，再逐步補實細節。  
- 提供通用標頭模板，僅調整專案特有內容。

## 練習建議
1. 為「撰寫使用者認證測試」設計完整提示。  
2. 為「實作 REST API」規劃三階段提示（骨架→功能→優化）。

## 重點回顧
- 反覆改進而非一次到位。  
- 要求 AI 標示信心度，提升審查效率。  
- 針對 TDD 每步驟量身設計提示。  
- 限制修改範圍、說明參考順序，避免 AI 胡亂更動。

下一節將進一步說明如何將 AI 的推論過程可視化，協助品質控管。
