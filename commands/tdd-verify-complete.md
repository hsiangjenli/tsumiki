---
description: 驗證 TDD 開發的測試案例是否已完整實作並全部通過，確保開發終局品質。
---

# TDD 測試案例完整性驗證

確認 TDD 開發中預定的測試案例是否全部實作且通過。

## 檢驗目的

在 Refactor 後確認所有預定測試皆已實作，避免遺漏。

## 重要原則

**⚠️ 此階段不進行任何修正**
- 僅進行檢查、紀錄、回報
- 若發現問題，請寫入 memo 檔，修正留給後續週期
- 測試執行請使用 `@task`
- NEVER: 不可略過整體實作率與成功率報告

## 檢查流程

### 1. 先確認現有測試為綠燈
- 執行 `npm test` 或 `jest`
- 若有失敗，記錄於 memo，暫不修正

### 2. 前置準備
1. 讀取 `AGENTS.md` 與 `docs/rule/tdd/verify-complete`
2. 使用 @agent-symbol-searcher 搜尋相關文件
3. 讀取：
   - `docs/implements/{要件名}/{{task_id}}/{feature_name}-memo.md`
   - `...-requirements.md`
   - `...-testcases.md`
   - `...-refactor-phase.md`
   - 對應的任務檔 `docs/tasks/{...}.md`

### 3. 核對實作的測試
- 檢視測試檔，統計已實作案例
- 與預定內容比對

### 4. 分析結果並決定是否更新 TODO.md
輸出範例如下：

```
## 測試案例實作狀態

### 📋 TODO.md 對應任務確認
- **對應任務**：...
- **目前狀態**：...
- **是否可標記完成**：...

### 📋 預定測試案例
- **總數**：...
- **分類**：正常情境／異常情境／邊界案例／其他

### ✅ 已實作測試案例
- **總數**：...
- **成功率**：成功數／實作數（百分比）

### ❌ 未實作測試案例
- 列出未實作的案例、類型、內容、重要度與對應需求

### 📋 需求覆蓋度
- **需求總數**／**已實作**／**覆蓋率**
- 說明未涵蓋需求與原因

### 📊 實作率
- 提供整體、正常情境、異常情境、邊界案例的實作率
```

## 判定標準

### ✅ 完整
- 測試全部綠燈
- 要件網羅率 100%
- 測試成功率 100%
- 無未實作的重要需求

### ⚠️ 有缺漏
- 測試失敗或要件網羅率不足
- 存在重要未實作項目

## 紀錄與更新

### 更新 memo
```
# [功能名稱] TDD 開發完成紀錄

## 需確認的文件
- ...

## 🎯 最終結果（[日期時間]）
- **實作率**：...
- **品質判定**：合格／不合格
- **TODO 更新**：完成／需改善
```

### TODO.md 處理
- 若達成條件，勾選 TODO
- 不達成則紀錄問題並指示補充步驟

### 備註
- 需確認是否存在技術負債或追蹤事項

## 輸出與回報
- 建議生成 `verify-complete-report.md`
- 內容含測試結果、統計、缺漏項目、建議

## 下一步
- 若完全通過：提示可進入下一循環或交付流程
- 若未達標：整理缺漏，建議重新從 Red/Green 階段補強
