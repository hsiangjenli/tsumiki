---
description: 檢查既有任務檔內容，若與範例格式相比缺漏資訊則補齊。
---

# kairo-task-verify

## 目的

檢查已建立的任務檔，若與輸出範例格式相比有缺漏，就補上所需資訊。

## 前提

- `docs/tasks/{要件名}-tasks.md` 已存在
- 已執行 kairo-tasks 指令並產出任務檔

## 執行內容

**【信賴等級指引】**：
請對每個項目標示與原始資料（含 EARS 需求與設計文件）的對照狀態：

- 🔵 **藍燈**：直接根據 EARS 需求或設計文件
- 🟡 **黃燈**：依據資料合理推測
- 🔴 **紅燈**：原始資料沒有，需要自行推測

1. **讀取追加規範**
   - 若存在 `docs/rule` 目錄，請讀取
   - 若存在 `docs/rule/kairo` 目錄，請讀取  
   - 若存在 `docs/rule/kairo/task-verify` 目錄，請讀取
   - 讀取各目錄內所有檔案並套用

2. **讀取技術堆疊定義**
   - 若存在 `docs/tech-stack.md`，請讀取
   - 若不存在，請自 `CLAUDE.md` 讀取技術堆疊章節  
   - 若兩者皆無，使用 `.claude/commands/tech-stack.md` 預設定義

3. **檢查任務檔**
   - 使用 @agent-symbol-searcher 搜尋並讀取任務檔
   - 使用 Read 工具讀取 `docs/tasks/{要件名}-tasks.md`

4. **比較輸出範例**
   - 使用 @agent-symbol-searcher 搜尋相關範例，並讀取
   - 讀取 kairo-tasks 指令檔確認輸出格式
   - 找出任務檔缺少的資訊

5. **補齊缺漏資訊**
   確認以下項目是否存在，若缺少請補上：
   - 概要段落（總任務數、預估工時、關鍵路徑）
   - 各任務的核取方塊
   - 任務類型標示（TDD／DIRECT）
   - 對應需求連結
   - 依賴任務
   - 實作細節
   - 測試需求
   - UI/UX 需求（前端任務）
   - 錯誤處理需求
   - 完成條件
   - 執行順序（Mermaid 甘特圖）
   - 子任務樣板資訊

6. **更新檔案**
   - 加入缺少的資訊並儲存

## 執行後確認

- 顯示更新的檔案路徑
- 摘要補充的資訊
- 確認任務檔內容完整
