---
description: 彙整 `rev-requirements`、`rev-design`、`rev-tasks` 的結果，產出完整的逆向規格文件。
---

# rev-specs

## 目的

將逆向分析取得的需求、設計與任務資訊整合成一份可流通的規格文件，便於後續維護或移交。

## 前提

- 已執行 `rev-requirements`、`rev-design`、`rev-tasks`
- `docs/reverse/` 內存在對應資料

## 流程

1. **蒐集來源**
   - 讀取逆向需求、設計、任務文件
   - 使用 @agent-symbol-searcher 搜尋遺漏資訊

2. **建立目錄結構**
   - `docs/reverse/{要件名}/{要件名}-spec.md`
   - 內容分為：
     - 專案概觀
     - 功能摘要與使用者故事
     - 系統架構與資料流程
     - API／資料庫規格
     - 任務與進度摘要
     - 風險與待辦

3. **交叉驗證**
   - 確認需求、設計、任務間的一致性
   - 列出矛盾與缺漏
   - 依可信度標示 🔵／🟡／🔴

4. **產出報告**

```markdown
# {要件名} 逆向規格書

## 1. プロジェクト概要
- 目的、範疇、歷史

## 2. ユーザーストーリー
- 精簡列表並附來源

## 3. 機能/非機能要件
- 摘要自 rev-requirements

## 4. システム設計
- 架構圖、資料流程、型別、資料庫、API

## 5. 任務進度
- 主要任務狀態表

## 6. リスクと課題
- 現存技術債、待辦事項

## 7. 推奨事項
- 建議的下一步或改善方向
```

5. **產生附錄**
   - 引用清單（檔案、commit、Issue）
   - 信賴等級說明

## 完成後

- 與利害關係人確認內容
- 若需正式文檔，可導出為 PDF 或其他格式
- 作為 `kairo` 系列指令的輸入參考
