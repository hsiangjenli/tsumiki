---
mode: agent
description: 協助確認或建立專案技術堆疊基準，並輸出實作時需參考的清單
inputs:
  summary: 蒐集現有技術決策與缺口，確保後續實作有一致依據
  required:
    - 專案目標與交付範圍（前端／後端／資料處理等）
    - 既有文件位置：README.md 的技術堆疊章節、docs/ 或其他備註
    - 已決定或待確認的框架、語言、部署環境、測試工具
    - 可沿用的既有服務或第三方限制
    - 語言與輸出格式偏好（預設繁體中文 + Markdown）
outputs:
  summary: 產出結構化技術堆疊表與行動列表，確保實作依循同一指引
  include:
    - 本次盤點的觸發原因（新專案 / 需求變更 / 部署調整等）
    - 已確認與待決定的技術清單（含優先順序與替代方案）
    - 每項技術的使用理由、風險與後續待辦
    - 受技術變更影響的 BDD / SDD / TDD Issue 摘要（使用 `#編號`）與需要重新執行的 Prompt 建議
    - 若缺少專案專用設定，指示沿用 `README.md` 的「預設技術堆疊基準」為暫定值
    - 提醒後續實作與腳本（例如 scripts/tdd-cycle.sh）需要引用該技術堆疊
    - 建議建立或更新的 GitHub Issue／模板／文件連結
---

# tech-stack

## 目的

釐清專案當前的技術堆疊決策，統一後續 BDD／SDD／TDD 及實作階段的依據，並補足缺漏的技術資訊。適用情境：專案初始、需求新增涉及新子系統、或 `requirements-change` / `sdd` 提示技術調整時的重新檢視。

## 前置檢查

- 先檢視 `README.md` 技術堆疊章節；若無，提醒使用者補充或沿用預設。
- 若缺少專案專用定義，可引用 `README.md` 的「預設技術堆疊基準」，並於輸出標記為暫用（🟡）。
- 若已存在其他說明（例如 `docs/tech-stack.md` 或變更紀錄），需合併資訊並註明來源信賴度。

## 問答策略

- 優先採封閉式問題（提供 3–4 個選項 + `⑤ 其他，請說明`）。
- 依子領域分段詢問：前端、後端／API、資料處理、模型／AI、測試、CI/CD、部署與監控。
- 若使用者回覆含糊，提出具體範例或建議選項協助決策。

## 流程

### Phase 0：彙整既有資訊
1. 讀取 `README.md` 的技術堆疊章節，整理已確立項目。
2. 檢查是否有專案專用文件（例如 `docs/tech-stack.md`、`CLAUDE.md`、`AGENTS.md` 技術章節）。
3. 若仍缺資訊，暫用 `README.md` 的預設技術堆疊條目並標記為 🟡，同時紀錄「需確認」的負責人與期限。

### Phase 1：訪談確認
1. 逐一詢問各領域技術選項、既有資產與限制。
2. 確認是否需支援多種實作語言或多目標部署。
3. 釐清需遵循的規範（可及時性、安全、合規、無障礙）。
4. 確認是否需產生對應的 Issue／模板來追蹤未決事項。

### Phase 2：輸出與後續行動
1. 組織「已定案」「建議」「待決定」三段技術堆疊清單。
2. 為每項技術補上使用理由、風險、待辦（例如 PoC、Benchmark、文件更新）。
3. 若沿用預設，提醒後續必須在 README 或 Issue 中正式確認。
4. 指示後續 Prompt（BDD／SDD／TDD／實作）在招喚時需引用本清單；若調整影響既有 Issue，標記需回到 `requirements-change`、`bdd`、`sdd` 或 `tdd` 的項目。
5. 建議使用 MCP 建立或更新 GitHub Issue、PR、模板，以追蹤未決項與文件更新。

## 輸出格式建議

- 使用 Markdown 表格呈現技術堆疊（欄位範例：子領域、技術、狀態、理由、風險／備註）。
- 在摘要中標記信賴等級：🔵 已確認、🟡 暫用、🔴 待確認。
- 結尾提醒後續實作與腳本（如 `scripts/tdd-cycle.sh`）引用本清單，並建議將輸出貼回 GitHub Issue 追蹤。

## 注意事項

- 若使用者無法立即決策，保留待決定項並提出建議選項與評估方向。
- 避免直接假設技術；應先提問，再在缺乏資訊時使用預設並註記。
- 若偵測到多專案共用環境，提醒檢查相容性與版本衝突。
- 全程使用繁體中文回覆。
- 引用 GitHub Issue 時使用 `#編號`，並記錄信賴等級與所屬階段（需求 / BDD / SDD / TDD）。
