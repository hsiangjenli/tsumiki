# prompt-repo-sdd-tdd 驗收標準

## 概要
本文件列出打造個人化 SDD TDD 開發流程 prompt repo 的驗收標準與測試觀點。系統以純 markdown 格式儲存所有 prompt 內容，使用 git 進行版本控制，重點在於設計高品質、可重用的 prompt 範本。

## 驗收標準

### 功能驗收
- AC-001：系統必須以純 Markdown 格式儲存所有 prompt 內容，參考 commands/ 目錄的結構和格式 🔵 *使用者確認*
- AC-002：系統必須使用 Git 進行版本控制，支援分支管理、提交歷史和協作開發 🔵 *使用者確認*
- AC-003：系統必須提供類似 kairo-requirements 的功能，蒐集與分析現有專案資訊，向使用者進行需求訪談，並使用 EARS 記法整理成含驗收標準的需求定義書 🔵 *kairo-requirements.prompt.md*
- AC-004：系統必須設計高品質的 prompt 範本，包含清晰的執行流程、輸出格式和品質標準 🔵 *commands/ 目錄分析*
- AC-005：系統必須支援多種類型的 prompt（需求定義、設計、實作、測試等），每個 prompt 都有明確的用途和適用場景 🔵 *commands/ 目錄結構*
- AC-006：每個 prompt 文件必須包含完整的 YAML frontmatter，定義用途、參數和輸出格式 🔵 *commands/ 目錄格式*
- AC-007：系統必須支援參數化 prompt 配置，允許根據不同專案調整 prompt 行為 🔵 *commands/ 目錄分析*
- AC-008：系統必須提供清晰的目錄結構分類，便於 prompt 的組織和查找 🔵 *commands/ 目錄結構*

### 錯誤處理
- AC-101：當 Markdown 語法錯誤時，系統必須提供具體的錯誤位置和修正建議 🔵 *推測基準*
- AC-102：當 YAML frontmatter 格式錯誤時，系統必須驗證並提供修正範例 🔵 *推測基準*
- AC-103：當 Git 操作失敗時，系統必須顯示具體錯誤訊息並提供解決方案 🔵 *推測基準*

### 效能
- AC-201：系統必須支援快速的 prompt 內容搜索和檢索 🔵 *推測基準*
- AC-202：Git 版本控制操作必須在合理時間內完成 🔵 *推測基準*

### 安全
- AC-301：系統必須保護 prompt 內容的完整性，防止意外修改或刪除 🔵 *推測基準*
- AC-302：Git 提交歷史必須完整保留所有變更記錄 🔵 *推測基準*

### 無障礙／UX
- AC-401：所有 prompt 文件必須使用清晰的 Markdown 格式，便於閱讀和編輯 🔵 *使用者確認*
- AC-402：目錄結構必須符合直觀的分類邏輯，便於使用者查找 🔵 *commands/ 目錄分析*
- AC-403：每個 prompt 必須包含完整的說明文檔和使用範例 🔵 *commands/ 目錄分析*

### 品質分析（Should have）
- AC-501：系統必須確保所有 prompt 文件符合 Markdown 語法標準 🔵 *推測基準*
- AC-502：系統必須驗證 YAML frontmatter 的完整性和正確性 🔵 *推測基準*
- AC-503：系統必須檢查 prompt 內容的完整性，包含目的、流程和範例 🔵 *commands/ 目錄分析*
- AC-504：系統必須支援 prompt 文件的版本比較和變更追蹤 🔵 *git 版本控制*
- AC-505：系統必須提供 prompt 品質評估標準和改進建議 🔵 *推測基準*

### 設計驗收
- AC-701：目錄結構必須符合 commands/ 目錄的分類邏輯，便於 prompt 查找 🔵 *commands/ 目錄結構*
- AC-702：每個 prompt 文件必須包含標準化的 YAML frontmatter 格式 🔵 *commands/ 目錄格式*
- AC-703：prompt 內容必須包含清晰的執行流程和輸出格式定義 🔵 *commands/ 目錄分析*
- AC-704：系統必須支援 prompt 的參數化配置和靈活調整 🔵 *commands/ 目錄分析*

## 測試情境

### 端到端測試案例
1. **Prompt 創建測試**：從需求分析到 Markdown 文件生成的完整流程
2. **Git 整合測試**：prompt 文件的版本控制和協作開發流程
3. **品質驗證測試**：Markdown 格式和內容品質的自動檢查
4. **組織管理測試**：目錄結構的維護和 prompt 分類管理

### 使用者驗收測試
1. **Prompt 設計者測試**：設計者能夠順暢地創建和維護高品質 prompt
2. **業務需求者測試**：非技術使用者能夠有效使用 prompt 獲得所需結果
3. **維護者測試**：維護者能夠有效管理 prompt 庫和版本控制

## 成功標準

- **功能完整性**：所有 Must have 需求通過驗收測試
- **內容品質**：所有 prompt 文件符合高品質標準和格式要求
- **維護便利性**：Git 版本控制和目錄結構便於長期維護
- **使用效率**：使用者能夠快速找到並應用適當的 prompt

## 下一步

**需求定義階段完成** ✅
**建議下一步**：執行 `kairo-design` 命令產生技術設計文件

### 效能
- AC-201：系統回應時間必須小於 30 秒，即使處理 1000 字的需求描述 🔵 *訪談確認*
- AC-202：系統必須能夠同時處理至少 5 個並發的需求生成任務而不影響效能 🔵 *推測基準*
- AC-203：GitHub Issue 建立時間必須小於 10 秒 🔵 *推測基準*
- AC-204：系統記憶體使用量在處理複雜需求時不得超過 500MB 🔵 *推測基準*
- AC-205：GitHub API 呼叫必須控制在每小時 5000 次以內，避免觸發限制 🔵 *推測基準*

### 安全
- AC-301：系統必須驗證 GitHub 存取權限，防止未授權的 Issue 建立或修改 🔵 *訪談確認*
- AC-302：敏感資訊（如 API 金鑰、資料庫連線字串）不得出現在公開的 GitHub Issue 或 PR 中，系統必須根據程式語言提供適當的敏感資訊處理建議 🔵 *訪談確認*
- AC-303：系統必須記錄所有操作日誌，但不包含使用者輸入的敏感業務資料，並支援不同語言的日誌格式標準 🔵 *推測基準*

### 無障礙／UX
- AC-401：系統必須提供清晰的狀態指示，讓使用者知道目前處於需求蒐集、文件生成還是開發階段 🔵 *訪談確認*
- AC-402：所有產出的文件必須符合 Markdown 格式標準，便於閱讀和編輯 🔵 *訪談確認*
- AC-403：系統必須支援中英文介面，並根據使用者偏好自動切換 🔵 *推測基準*
- AC-404：當系統無法理解需求時，必須提供友善的錯誤訊息和改進建議 🔵 *訪談確認*

### 品質分析（Should have）
- AC-501：系統必須能夠根據專案使用的程式語言生成適當的測試覆蓋率報表，顯示單元測試覆蓋至少達到該語言的業界標準（JavaScript/TypeScript 80%，Python 85%，Java 90%） 🔵 *訪談確認*
- AC-502：系統必須整合語言特定的靜態程式碼掃描工具，識別至少 5 種該語言常見的程式碼品質問題（ESLint for JS/TS，Pylint for Python，Checkstyle for Java） 🔵 *訪談確認*
- AC-503：系統必須提供語言適配的動態安全掃描，檢查該語言相關的安全漏洞（OWASP for Web，SANS for 其他語言） 🔵 *訪談確認*
- AC-504：系統必須限制單次處理的檔案大小不超過 10MB，避免記憶體溢位 🔵 *訪談確認*
- AC-505：系統必須在處理大型專案時提供進度指示和中斷恢復機制 🔵 *訪談確認*

### 設計驗收
- AC-701：系統架構必須符合命令模式設計，易於擴展新的 prompt 模板 🔵 *kairo-design.md*
- AC-702：TypeScript 介面定義必須完整覆蓋所有資料結構和 API 契約 🔵 *kairo-design.md*
- AC-703：資料流程圖必須清晰描述使用者輸入到最終輸出的完整路徑 🔵 *kairo-design.md*
- AC-704：API 規格必須包含所有 GitHub 整合端點的詳細定義 🔵 *kairo-design.md*
- AC-604：JavaScript/TypeScript 專案測試：生成符合 80% 覆蓋率的測試案例並通過 ESLint 檢查 🔵 *訪談確認*
- AC-605：Python 專案測試：生成符合 85% 覆蓋率的測試案例並通過 Pylint 檢查 🔵 *訪談確認*
- AC-606：Java 專案測試：生成符合 90% 覆蓋率的測試案例並通過 Checkstyle 檢查 🔵 *訪談確認*

## 測試情境

### 端到端測試案例
1. **完整開發流程測試**：從需求輸入到 PR 合併的完整流程
2. **錯誤恢復測試**：模擬網路中斷、API 失敗等異常情況
3. **效能壓力測試**：同時處理多個複雜需求的情境
4. **安全性測試**：驗證權限控制和資料保護機制

### 使用者驗收測試
1. **非技術使用者測試**：不懂程式設計的使用者能夠成功描述需求並獲得滿意結果
2. **開發者體驗測試**：開發者能夠順暢地從 Issue 開始開發並完成任務
3. **專案管理測試**：經理能夠有效追蹤進度和品質指標

## 成功標準

- **功能完整性**：所有 Must have 需求通過驗收測試
- **使用者滿意度**：非技術使用者能夠在 15 分鐘內完成需求描述
- **開發效率**：從需求到可部署程式碼的時間縮短 50%
- **錯誤率**：系統錯誤率低於 5%，並提供有效的錯誤恢復機制

## 下一步

**需求定義階段完成** ✅
**建議下一步**：執行 `kairo-design` 命令產生技術設計文件